(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{VGbI:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("XlPw"),o=n("67Y/"),i=n("tct4"),c=n("CcnG"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(){function t(t){this.afs=t,this.userCollection=this.afs.collection("users")}return t.prototype.getUserCities=function(t){return this.cityCollection=this.afs.collection("users/"+t+"/cities",function(t){return t.orderBy("time","desc")}),this.cityCollection.snapshotChanges().pipe(Object(o.a)(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,s({},e)})}))},t.prototype.addCity=function(t,e){var n={weather:e,time:new Date};return this.userCollection.doc(t).collection("cities").add(n)},t.prototype.getCity=function(t,e){return this.afs.doc("users/"+t+"/cities/"+e)},t.prototype.deleteCity=function(t,e){return this.getCity(t,e).delete()},t.prototype.updateCity=function(t,e,n){var r={weather:n,time:new Date};return this.getCity(t,e).set(r)},t.prototype.handleError=function(t){return console.error(t),Object(r.a)(t.error||"Server error")},t.ngInjectableDef=c.X({factory:function(){return new t(c.Ba(i.a))},token:t,providedIn:"root"}),t}()}}]);